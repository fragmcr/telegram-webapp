<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ü–ú–† - –ì–ª–∞–≤–Ω–æ–µ –ú–µ–Ω—é</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s, color 0.5s;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –ø–æ–ª–∑—É–Ω–∫–∞ (Scrollbar) */
        .hide-scrollbar::-webkit-scrollbar {
            height: 0px; 
            width: 0px; 
        }
        .hide-scrollbar {
            -ms-overflow-style: none; 
            scrollbar-width: none; 
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/—Å–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        @keyframes fadeOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(0.95); } }
        .animate-in { animation: fadeIn 0.3s ease-out forwards; }
        .animate-out { animation: fadeOut 0.3s ease-in forwards; }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π */
        @keyframes slideDown { 
            0% { opacity: 0; transform: translateY(-10px); } 
            100% { opacity: 1; transform: translateY(0); } 
        }
        .slide-down-in { animation: slideDown 0.2s ease-out forwards; }
        .dropdown-menu-item { opacity: 0; transform: translateY(-10px); }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ */
        @keyframes slideLeftIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes slideRightOut { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(-20px); } }
        .screen-transition-in { animation: slideLeftIn 0.4s ease-out forwards; }
        .screen-transition-out { animation: slideRightOut 0.4s ease-in forwards; }

        /* –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–Ω–æ–ø–æ–∫ –∏–∑ index.html */
        .menu-btn {
            background-color: #f3f4f6; /* bg-gray-200 */
            color: #1f2937; /* text-gray-800 */
        }
        .dark .menu-btn {
            background-color: #374151; /* dark:bg-gray-700 */
            color: #e5e7eb; /* dark:text-gray-200 */
        }
        .menu-btn:hover {
            background-color: #d1d5db; /* hover:bg-gray-300 */
        }
        .dark .menu-btn:hover {
            background-color: #4b5563; /* dark:hover:bg-gray-600 */
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="app-container" class="w-full max-w-md p-6 rounded-xl shadow-2xl transition-colors duration-500">
        
        <div class="relative mb-6 flex justify-between items-center">
             <h1 id="main-title" class="text-3xl font-bold text-center flex-grow">–ì–ª–∞–≤–Ω–æ–µ –ú–µ–Ω—é</h1>
             <button id="profile-btn" class="p-1 rounded-full text-gray-800 shadow-lg 
                                           transition transform duration-200 hover:scale-110 active:scale-90" 
                     onclick="handleNavigation('–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å')">
                 <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-user"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="10" r="3"/><path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"/></svg>
             </button>
        </div>
        
        <div id="content" class="text-center">
            </div>

    </div>

    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-2xl w-full max-w-sm">
            <h3 id="modal-title" class="text-xl font-bold mb-4 text-gray-900 dark:text-white">–°–æ–æ–±—â–µ–Ω–∏–µ</h3>
            <p id="modal-message" class="mb-6 text-gray-700 dark:text-gray-300"></p>
            <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg 
                           transition transform duration-200 hover:scale-[1.02] active:scale-98" 
                    onclick="hideModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>


    <script>
        // --- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–≥–ª—É—à–∫–∏ ---
        let userData = {
            uniqueId: localStorage.getItem('localAppUserData') ? JSON.parse(localStorage.getItem('localAppUserData')).uniqueId : '543210',
            location: localStorage.getItem('localAppUserData') ? JSON.parse(localStorage.getItem('localAppUserData')).location : '–ì–æ—Ä–æ–¥ –Ω–µ –≤—ã–±—Ä–∞–Ω',
            themePreference: localStorage.getItem('localAppUserData') ? JSON.parse(localStorage.getItem('localAppUserData')).themePreference : 'auto',
        };
        
        const contentElement = document.getElementById('content');
        const titleElement = document.getElementById('main-title');
        const profileBtn = document.getElementById('profile-btn');

        // --- –§—É–Ω–∫—Ü–∏–∏ —Ç–µ–º—ã (–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ index.html) ---

        function getCurrentTheme() {
            if (userData.themePreference === 'light') return 'light';
            if (userData.themePreference === 'dark') return 'dark';
            const pridnestrovieHour = (new Date().getUTCHours() + 3) % 24;
            return (pridnestrovieHour >= 8 && pridnestrovieHour < 18) ? 'light' : 'dark';
        }

        function applyTheme(theme) {
            const body = document.body;
            const container = document.getElementById('app-container');
            const toggleClasses = (element, add, remove) => {
                element.classList.add(...add);
                element.classList.remove(...remove);
            };
            const isDark = theme === 'dark';

            toggleClasses(body, isDark ? ['bg-gray-900', 'text-white'] : ['bg-white', 'text-gray-900'], isDark ? ['bg-white', 'text-gray-900'] : ['bg-gray-900', 'text-white']);
            toggleClasses(container, isDark ? ['bg-gray-800', 'shadow-gray-700'] : ['bg-white', 'shadow-blue-200'], isDark ? ['bg-white', 'shadow-blue-200'] : ['bg-gray-800', 'shadow-gray-700']);
            toggleClasses(titleElement, isDark ? ['text-white'] : ['text-gray-900'], isDark ? ['text-gray-900'] : ['text-white']);
            toggleClasses(profileBtn, isDark ? ['bg-gray-700', 'text-white'] : ['bg-white', 'text-gray-800'], isDark ? ['bg-white', 'text-gray-800'] : ['bg-gray-700', 'text-white']);
        }
        
        // --- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ UI/UX ---

        function showModal(title, message) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-message').textContent = message;
            const modal = document.getElementById('modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.querySelector('#modal > div').classList.remove('animate-out');
            document.querySelector('#modal > div').classList.add('animate-in');
        }

        function hideModal() {
            const modal = document.getElementById('modal');
            document.querySelector('#modal > div').classList.remove('animate-in');
            document.querySelector('#modal > div').classList.add('animate-out');
            setTimeout(() => {
                 modal.classList.add('hidden');
                 modal.classList.remove('flex');
            }, 300);
        }

        /**
         * –£–ø—Ä–∞–≤–ª—è–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏.
         * @param {function} renderFunction –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.
         */
        function screenTransition(renderFunction) {
            // –í menu.html –º—ã —Å—Ä–∞–∑—É —Ä–µ–Ω–¥–µ—Ä–∏–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –ø–æ—ç—Ç–æ–º—É —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.
            // –û—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–∞–∫ –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.
            renderFunction();
        }


        // --- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥: –ì–ª–∞–≤–Ω–æ–µ –ú–µ–Ω—é (–¢–µ–ø–µ—Ä—å –æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω) ---

        window.renderMainMenu = function() {
            titleElement.textContent = "–ì–ª–∞–≤–Ω–æ–µ –ú–µ–Ω—é";

            const currentLocation = `<p class="text-base font-medium mb-6 p-2 rounded-lg bg-gray-100 dark:bg-gray-700">
                –í–∞—à –≥–æ—Ä–æ–¥: <span class="font-semibold text-blue-600 dark:text-blue-400">${userData.location}</span>
            </p>`;

            contentElement.innerHTML = `
                ${currentLocation}
                <div class="grid grid-cols-2 gap-3 mt-6">
                    
                    <div class="relative col-span-1">
                        <button id="ads-btn" class="menu-btn w-full py-3 px-4 font-semibold rounded-lg shadow-md
                                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                                onclick="toggleDropdown('ads-dropdown')">
                            –û–±—ä—è–≤–ª–µ–Ω–∏—è üì¢
                        </button>
                        <div id="ads-dropdown" class="absolute w-full mt-2 space-y-1 rounded-lg bg-gray-100 dark:bg-gray-700 shadow-xl z-10 hidden border border-gray-200 dark:border-gray-600 text-left">
                            <button class="dropdown-menu-item w-full py-2 px-4 text-sm font-medium rounded-t-lg bg-transparent hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
                                    onclick="handleNavigation('–ü—Ä–æ–¥–∞–º')">
                                –ü—Ä–æ–¥–∞–º üí∞
                            </button>
                            <button class="dropdown-menu-item w-full py-2 px-4 text-sm font-medium bg-transparent hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
                                    onclick="handleNavigation('–ö—É–ø–ª—é')">
                                –ö—É–ø–ª—é üõí
                            </button>
                            <button class="dropdown-menu-item w-full py-2 px-4 text-sm font-medium rounded-b-lg bg-transparent hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
                                    onclick="handleNavigation('–û—Ç–¥–∞–º –¥–∞—Ä–æ–º')">
                                –û—Ç–¥–∞–º –¥–∞—Ä–æ–º ‚ú®
                            </button>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <button class="menu-btn w-full py-3 px-4 font-semibold rounded-lg shadow-md
                                       transition transform duration-200 hover:scale-[1.03] active:scale-95"
                                onclick="handleNavigation('–ü–æ–º–æ—â—å')">
                            –ü–æ–º–æ—â—å üÜò
                        </button>
                    </div>

                    <button class="menu-btn col-span-1 py-3 px-4 font-semibold rounded-lg shadow-md
                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                            onclick="handleNavigation('–ß–∞—Ç')">
                        –ß–∞—Ç üí¨
                    </button>
                    <button class="menu-btn col-span-1 py-3 px-4 font-semibold rounded-lg shadow-md
                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                            onclick="handleNavigation('–ò–≥—Ä—ã')">
                        –ò–≥—Ä—ã üéÆ
                    </button>
                    <button class="menu-btn col-span-1 py-3 px-4 font-semibold rounded-lg shadow-md
                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                            onclick="handleNavigation('–ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞')">
                        –ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ ‚ù§Ô∏è
                    </button>
                    <button class="menu-btn col-span-1 py-3 px-4 font-semibold rounded-lg shadow-md
                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                            onclick="handleNavigation('–ù–æ–≤–æ—Å—Ç–∏')">
                        –ù–æ–≤–æ—Å—Ç–∏ üì∞
                    </button>
                    <button class="menu-btn col-span-1 py-3 px-4 font-semibold rounded-lg shadow-md
                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                            onclick="handleNavigation('–î—Ä—É–∑—å—è')">
                        –î—Ä—É–∑—å—è ü´Ç
                    </button>
                    <button class="menu-btn col-span-1 py-3 px-4 font-semibold rounded-lg shadow-md
                                   transition transform duration-200 hover:scale-[1.03] active:scale-95"
                            onclick="handleNavigation('–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è')">
                        –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è üèÜ
                    </button>
                    
                </div>
            `;
        }
        
        // --- –õ–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –¥—Ä–æ–ø–¥–∞—É–Ω–∞ ---

        /**
         * –ò–º–∏—Ç–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º.
         * @param {string} section –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞.
         */
        window.handleNavigation = function(section) {
            // –°–∫—Ä—ã—Ç—å –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞
            const dropdown = document.getElementById('ads-dropdown');
            if (dropdown && !dropdown.classList.contains('hidden')) {
                 dropdown.classList.add('hidden');
            }
            
            if (section === '–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å') {
                // –ü—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ index.html, –∏–º–∏—Ç–∏—Ä—É—è –ª–æ–≥–∏–∫—É
                window.location.href = 'index.html?page=profile';
            } else {
                showModal(`–ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–∞–∑–¥–µ–ª: ${section}`, `–í—ã –ø–µ—Ä–µ—à–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª "${section}" –¥–ª—è –≥–æ—Ä–æ–¥–∞ **${userData.location || '–ü–ú–†'}**. –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª.`);
            }
        }
        
        /**
         * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π.
         * @param {string} id ID —ç–ª–µ–º–µ–Ω—Ç–∞ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞.
         */
        window.toggleDropdown = function(id) {
            const dropdown = document.getElementById(id);
            const items = dropdown.querySelectorAll('.dropdown-menu-item');

            if (dropdown.classList.contains('hidden')) {
                dropdown.classList.remove('hidden');
                
                items.forEach((item, index) => {
                    setTimeout(() => {
                        item.classList.add('slide-down-in');
                    }, index * 50); 
                });

            } else {
                items.forEach((item, index) => {
                    item.classList.remove('slide-down-in');
                });
                
                setTimeout(() => {
                    dropdown.classList.add('hidden');
                }, 200); 
            }
        }


        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ---
        document.addEventListener('DOMContentLoaded', () => {
            // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—á–∏—Ç—ã–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É
            const loadedData = localStorage.getItem('localAppUserData');
            if (loadedData) {
                const data = JSON.parse(loadedData);
                userData = { ...userData, ...data };
            }
            applyTheme(getCurrentTheme());
            renderMainMenu();
        });

    </script>
</body>
</html>